/*!
* eForm - WordPress Form Builder
*
* Autogenerated by Grunt on: 2020-07-05
* @version 3.8.0
* @author Swashata Ghosh (WPQuark)
* @license GPL-3.0
*/
/**
 * User Portal Helper script for eForm
 *
 * @author     SwashataATiPanelThemes.com
 *
 * @dependency jquery, ipt-fsqm-up-datatable-yadcf, ipt-fsqm-up-datatable
 * @license    GPL-3.0
 */
!function(t){"use strict";var e={init:function(){return this.each(function(){var a=this,i={id:"eform-up-css",src:t("#eform-up-css").attr("href")};t(this).iptPluginUIFFront({callback:function(){e.initDataTable.apply(a)},additionalThemes:[i]})})},number_format:function(t){var e=parseFloat(t);return isNaN(e)?t:parseInt(100*t)/100},initDataTable:function(){var a={settings:t(this).data("settings"),nonce:t(this).data("nonce"),progressbar:t(this).find(".ipt_fsqm_up_pb"),ajaxloader:t(this).find(".ipt_fsqm_up_al"),ajaxurl:t(this).data("ajaxurl")};t(this).find(".ipt_fsqm_up_table tbody").html(""),e.fetchData.apply(this,[0,a])},fetchData:function(a,i){var n=this;t.post(i.ajaxurl,{action:"ipt_fsqm_user_portal",settings:i.settings,_wpnonce:i.nonce,doing:a},function(r){null!=r&&0!=r||(i.ajaxloader.find(".ipt_uif_ajax_loader_inner").removeClass("ipt_uif_ajax_loader_animate"),i.ajaxloader.find(".ipt_uif_ajax_loader_text").text(iptFSQMUP.ajax.null_response+" "+iptFSQMUP.ajax.advice)),1==r.success?(i.progressbar.progressbar("option","value",e.number_format(r.done)),t(n).find(".ipt_fsqm_up_table tbody").append(r.html),100==r.done?e.applyDataTable.apply(n,[i]):e.fetchData.apply(n,[++a,i])):(i.ajaxloader.find(".ipt_uif_ajax_loader_inner").removeClass("ipt_uif_ajax_loader_animate"),i.ajaxloader.find(".ipt_uif_ajax_loader_text").text(r.error_msg))},"json").fail(function(t,e,a){i.ajaxloader.find(".ipt_uif_ajax_loader_inner").removeClass("ipt_uif_ajax_loader_animate"),i.ajaxloader.find(".ipt_uif_ajax_loader_text").text(iptFSQMUP.ajax.ajax_error+" ("+e+" "+a+") "+iptFSQMUP.ajax.advice)})},applyDataTable:function(e){var a=this;t(this).find(".ipt_fsqm_up_table").iptPluginUIFFront({callback:function(){var i=t(a).find(".ipt_fsqm_up_table");i.trigger("fsqm.userPortalComplete");var n=t(a).find(".ipt_fsqm_up_table").show().DataTable({bJQueryUI:!0,language:iptFSQMUP.l10n,sPaginationType:"full_numbers",aaSorting:[[1,"desc"]],bProcessing:!0,aLengthMenu:[[10,30,60,-1],[10,30,60,iptFSQMUP.allLabel]],iDisplayLength:30,dom:'<"fg-toolbar fsqm-up-tt ui-toolbar ui-widget-header ui-helper-clearfix ui-corner-tl ui-corner-tr"lprf>t<"fg-toolbar ui-toolbar fsqm-up-bt ui-widget-header ui-helper-clearfix ui-corner-bl ui-corner-br"ip>',responsive:!0,autoWidth:!0,columnDefs:[{width:"20%",targets:0},{width:"20%",targets:1},{width:"35%",targets:-1}],initComplete:function(){if("1"==e.settings.filters){var i=t(a).find(".ipt_fsqm_up_table");this.api().columns().every(function(e){var a=this,r=t(a.header());if(r.hasClass("action_label")||r.hasClass("score_label")||r.hasClass("mscore_label")||r.hasClass("pscore_label"))return!0;if(r.hasClass("date_label")){var s=t('<input type="text" class="ipt_uif_text ipt_fsqm_up_dpicker" id="ipt_fsqm_ui_d1" placeholder="'+iptFSQMUP.dpPlaceholderf+'" />'),o=t('<input type="text" class="ipt_uif_text ipt_fsqm_up_dpicker" id="ipt_fsqm_ui_d2" placeholder="'+iptFSQMUP.dpPlaceholdert+'" />');i.find("th.date_filter").append(s).append(" - ").append(o);var l=t(".ipt_fsqm_user_portal").data("ui-theme-id");s.datepicker({dateFormat:"yy-mm-dd",showButtonPanel:!0,closeText:iptPluginUIFDTPL10n.closeText,currentText:iptPluginUIFDTPL10n.currentText,monthNames:iptPluginUIFDTPL10n.monthNames,monthNamesShort:iptPluginUIFDTPL10n.monthNamesShort,dayNames:iptPluginUIFDTPL10n.dayNames,dayNamesShort:iptPluginUIFDTPL10n.dayNamesShort,dayNamesMin:iptPluginUIFDTPL10n.dayNamesMin,firstDay:iptPluginUIFDTPL10n.firstDay,isRTL:iptPluginUIFDTPL10n.isRTL,timezoneText:iptPluginUIFDTPL10n.timezoneText,changeMonth:!0,changeYear:!0,defaultDate:"-1y",numberOfMonths:1,onClose:function(e){o.datepicker("option","minDate",e),t("body").removeClass(l),n.draw()},beforeShow:function(e,a){t("body").addClass(l)},appendTo:t(".ipt_fsqm_user_portal"),duration:0}),o.datepicker({dateFormat:"yy-mm-dd",showButtonPanel:!0,closeText:iptPluginUIFDTPL10n.closeText,currentText:iptPluginUIFDTPL10n.currentText,monthNames:iptPluginUIFDTPL10n.monthNames,monthNamesShort:iptPluginUIFDTPL10n.monthNamesShort,dayNames:iptPluginUIFDTPL10n.dayNames,dayNamesShort:iptPluginUIFDTPL10n.dayNamesShort,dayNamesMin:iptPluginUIFDTPL10n.dayNamesMin,firstDay:iptPluginUIFDTPL10n.firstDay,isRTL:iptPluginUIFDTPL10n.isRTL,timezoneText:iptPluginUIFDTPL10n.timezoneText,changeMonth:!0,changeYear:!0,defaultDate:"-1y",numberOfMonths:1,onClose:function(e){o.datepicker("option","mixDate",e),t("body").removeClass(l),n.draw()},beforeShow:function(e,a){t("body").addClass(l)},duration:0}),t.fn.dataTable.ext.search.push(function(t,a,i){var n=new Date(s.val()).getTime()/1e3,r=new Date(o.val()).getTime()/1e3,l=parseFloat(a[e],10);return!!(isNaN(n)&&isNaN(r)||isNaN(n)&&l<=r||n<=l&&isNaN(r)||n<=l&&l<=r)})}else{var p=t('<select class="ipt_uif_select"><option value="">'+iptFSQMUP.allFilter+"</option></select>"),d=t(a.header()).attr("class").split("_")[0]+"_filter";p.appendTo(i.find("th."+d)).on("change",function(){var e=t.fn.dataTable.util.escapeRegex(t(this).val());a.search(e?"^"+e+"$":"",!0,!1).draw()});var u=[];a.nodes().to$().each(function(){u.push(t(this).data("search"))}),u=u.filter(function(t,e){return e===u.indexOf(t)}),t(u).each(function(t){p.append('<option value="'+this+'">'+this+"</option>")}),p.attr("data-theme","eform-material eform-select2-boxy"),p.select2()}})}}});i.addClass("ui-widget-content"),t('.dataTables_filter input[type="text"], .dataTables_filter input[type="search"]').addClass("ipt_uif_text"),t(".dataTables_length select").addClass("ipt_uif_select"),n.on("responsive-resize",function(t,e,a){for(var n in a)1==a[n]?i.find("thead > tr").eq(0).find("th").eq(n).show():i.find("thead > tr").eq(0).find("th").eq(n).hide()}),e.progressbar.hide(),e.ajaxloader.hide(),i.trigger("fsqm.userPortalDataTableComplete"),i.trigger("dataTablesCompleted.eform")}})}};t.fn.iptFSQMUserPortal=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?(t.error("Method "+a+" does not exist on jQuery.iptFSQMUserPortal"),this):e.init.apply(this,arguments)}}(jQuery),jQuery(document).ready(function(t){t(".ipt_fsqm_user_portal").iptFSQMUserPortal()});